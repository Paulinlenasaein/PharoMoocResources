Object subclass: #Simulation	instanceVariableNames: 'balle afficheur courbe thread'	classVariableNames: ''	poolDictionaries: ''	category: 'SimulationBalle'!!Simulation commentStamp: '<historical>' prior: 0!A SimulationBalleSimple is xxxxxxxxx.Instance Variables	afficheur:		<Object>	balle:		<Object>	courbe:		<Object>afficheur	- xxxxxballe	- xxxxxcourbe	- xxxxx!!Simulation methodsFor: 'initailize-release' stamp: 'NouryBouraqadi 3/13/2014 10:19'!positionInitialeBalle	^100@500! !!Simulation methodsFor: 'initailize-release' stamp: 'NouryBouraqadi 3/13/2014 10:09'!initialize	super initialize.	balle:= self classeBalle new.	afficheur := self classeAfficheur new.	courbe := self classeCourbe new.	balle annonceur 		on: EvenementDeplacement send: #mettreAJourApresDeplacement: to: afficheur.	self reinitialiserSimulation.	balle annonceur 		on: EvenementDeplacement send: #tracerLignePourDeplacement: to: courbe.! !!Simulation methodsFor: 'initailize-release' stamp: 'NouryBouraqadi 3/13/2014 09:59'!classeAfficheur	^AfficheurGraphiqueDeBalle! !!Simulation methodsFor: 'initailize-release' stamp: 'NouryBouraqadi 3/13/2014 09:59'!vitesseBalle: vecteurVitesse 	balle vitesse: vecteurVitesse! !!Simulation methodsFor: 'initailize-release' stamp: 'NouryBouraqadi 3/13/2014 10:20'!vitesseInitialeBalle	^30@ -50! !!Simulation methodsFor: 'initailize-release' stamp: 'NouryBouraqadi 3/13/2014 09:59'!positionBalle: unPoint 	balle position: unPoint! !!Simulation methodsFor: 'initailize-release' stamp: 'NouryBouraqadi 3/13/2014 09:59'!classeCourbe	^Courbe! !!Simulation methodsFor: 'initailize-release' stamp: 'NouryBouraqadi 3/13/2014 10:10'!classeBalle	self subclassResponsibility! !!Simulation methodsFor: 'affichage' stamp: 'NouryBouraqadi 2/23/2015 16:52'!arreterAffichage	afficheur arreterAffichage.	courbe stop! !!Simulation methodsFor: 'affichage' stamp: 'NouryBouraqadi 2/23/2015 16:53'!demarrerAffichage	afficheur demarrerAffichage.	courbe start! !!Simulation methodsFor: 'affichage' stamp: 'NouryBouraqadi 3/13/2014 09:59'!effacerCourbe	courbe effacer! !!Simulation methodsFor: 'simuler' stamp: 'NouryBouraqadi 3/13/2014 10:20'!reinitialiserSimulation	self positionBalle: self positionInitialeBalle.	self vitesseBalle: self vitesseInitialeBalle.	self effacerCourbe! !!Simulation methodsFor: 'simuler' stamp: 'NouryBouraqadi 3/13/2014 10:05'!boucleSimulation	|attente|	attente := 100 milliSeconds asDelay.	[self fautilArreterLaSimulation] whileFalse: [		attente wait.		self unPasDeSimulation]	! !!Simulation methodsFor: 'simuler' stamp: 'NouryBouraqadi 2/23/2015 16:24'!fautilArreterLaSimulation	| rectangleFenetrePharo |	rectangleFenetrePharo := (0@0) corner: DisplayScreen actualScreenSize.	^(rectangleFenetrePharo containsPoint: balle position) not! !!Simulation methodsFor: 'simuler' stamp: 'NouryBouraqadi 3/13/2014 10:10'!lancerSimulation	thread ifNotNil: [self arreterSimulation].	thread := [		self reinitialiserSimulation.		self boucleSimulation] newProcess.	thread name: self className.	thread resume		! !!Simulation methodsFor: 'simuler' stamp: 'NouryBouraqadi 3/13/2014 10:15'!unPasDeSimulation	balle position y < 0 ifTrue: [^self reinitialiserSimulation].	balle unPasDeSimulation! !!Simulation methodsFor: 'simuler' stamp: 'NouryBouraqadi 3/14/2014 14:28'!arreterSimulation	thread ifNil: [ ^self ].	thread terminate.	thread := nil! !Simulation subclass: #SimulationBalleRealiste	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'SimulationBalle'!!SimulationBalleRealiste methodsFor: 'initailize-release' stamp: 'NouryBouraqadi 3/13/2014 10:17'!classeBalle	^BalleRealiste! !TestCase subclass: #TestBalleRealiste	instanceVariableNames: 'balle'	classVariableNames: ''	poolDictionaries: ''	category: 'SimulationBalle'!!TestBalleRealiste commentStamp: '<historical>' prior: 0!A TestBalleSimple is xxxxxxxxx.Instance Variables	balle:		<Object>balle	- xxxxx!!TestBalleRealiste methodsFor: 'tests' stamp: 'NouryBouraqadi 2/26/2014 18:11'!assertUnPasSimPointInitial:  pointDepart vitesseInitiale:  vitesseInitiale pointFinal: pointArrivee	self 		assertUnPasSimPointInitial: pointDepart 		vitesseInitiale: vitesseInitiale 		pointFinal: pointArrivee 		vitesseFinale: vitesseInitiale! !!TestBalleRealiste methodsFor: 'tests' stamp: 'NouryBouraqadi 2/26/2014 18:11'!testVitesseInitialeX0Ymoins1	self assert: balle vitesse equals: 0@ -1! !!TestBalleRealiste methodsFor: 'tests' stamp: 'NouryBouraqadi 3/4/2015 18:46'!testUnPasSimulationDepartX20Y20VitesseXmoins5Y6ArriveeX15Y26	self assertUnPasSimPointInitial: 20@20 vitesseInitiale: -5@6 pointFinal: 15@26 vitesseFinale: -4.75@4.75! !!TestBalleRealiste methodsFor: 'tests' stamp: 'NouryBouraqadi 2/26/2014 18:11'!testChangemntPositionX86Y29VersX30Y40DonneX3Y40	balle position: 86@29.	balle position: 30@40.		self assert: balle position equals: 30@40! !!TestBalleRealiste methodsFor: 'tests' stamp: 'NouryBouraqadi 3/4/2015 18:49'!testUnPasSimulationDepartX34Y4VitesseX21Ymoins10ArriveeX55Y0	self assertUnPasSimPointInitial: 34@4 vitesseInitiale: 21@ -10 pointFinal: 55@0 vitesseFinale: 20.75@ 5! !!TestBalleRealiste methodsFor: 'tests' stamp: 'NouryBouraqadi 3/4/2015 18:49'!testUnPasSimulationDepartX38Y0VitesseX2Y10ArriveeX40Y10	self assertUnPasSimPointInitial: 38@0 vitesseInitiale: 2@10 pointFinal: 40@10 vitesseFinale: 1.75@8.75! !!TestBalleRealiste methodsFor: 'tests' stamp: 'NouryBouraqadi 2/26/2014 18:11'!setUp 	super setUp.	balle := BalleRealiste new! !!TestBalleRealiste methodsFor: 'tests' stamp: 'NouryBouraqadi 2/26/2014 18:11'!testPositionInitialeX0Y0	self assert: balle position equals: 0@0! !!TestBalleRealiste methodsFor: 'tests' stamp: 'NouryBouraqadi 2/26/2014 18:11'!assertUnPasSimPointInitial: pointDepart vitesseInitiale: vitesseInitiale pointFinal: pointArrivee vitesseFinale: vitesseArrivee	balle vitesse: vitesseInitiale.	balle position: pointDepart.	balle unPasDeSimulation.	self assert: balle position equals: pointArrivee.	self assert: balle vitesse equals: vitesseArrivee! !!TestBalleRealiste methodsFor: 'tests' stamp: 'NouryBouraqadi 2/26/2014 23:19'!testUnPasSimulationDepartX65Y1VitesseX0Ymoins2ArriveeX65Y0VitesseX0Y0	self assertUnPasSimPointInitial: 65@1 vitesseInitiale: 0@ -2 pointFinal: 65@0 vitesseFinale: 0@0! !!TestBalleRealiste methodsFor: 'tests' stamp: 'NouryBouraqadi 2/26/2014 18:11'!testChangemntPositionX73Y64VersX21Ymoins34DonneX21Y0	balle position: 73@64.	balle position: 21@ -34.		self assert: balle position equals: 21@0! !!TestBalleRealiste methodsFor: 'tests' stamp: 'NouryBouraqadi 3/4/2015 18:42'!testUnPasSimulationDepartX100Y0VitesseX0Ymoins5ArriveeX100Y0	self assertUnPasSimPointInitial: 100@0 vitesseInitiale: 0@ -5 pointFinal: 100@0 vitesseFinale: 0@2! !!TestBalleRealiste methodsFor: 'tests' stamp: 'NouryBouraqadi 3/4/2015 18:46'!testUnPasSimulationDepartX23Y50VitesseXmoins3Y5ArriveeX20Y55	self assertUnPasSimPointInitial: 23@50 vitesseInitiale: -3@5 pointFinal: 20@55 vitesseFinale: -2.75@3.75! !!TestBalleRealiste methodsFor: 'tests' stamp: 'NouryBouraqadi 3/4/2015 18:49'!testUnPasSimulationDepartX35Y0VitesseX10Ymoins7ArriveeX45Y0	self assertUnPasSimPointInitial: 35@0 vitesseInitiale: 10@ -7 pointFinal: 45@0 vitesseFinale: 9.75@3! !!TestBalleRealiste methodsFor: 'tests' stamp: 'NouryBouraqadi 3/4/2015 18:22'!test2PasSimulationDepartX100Y100VitesseX0Y0	balle 		position: 100@100; 		vitesse: 0@0.	2 timesRepeat: [balle unPasDeSimulation].	self assert: balle position equals: 100@99.25.	self assert: balle vitesse equals: 0@ -1.5! !!TestBalleRealiste methodsFor: 'tests' stamp: 'NouryBouraqadi 3/4/2015 18:40'!test10PasSimulationDepartX100Y100VitesseX0Y0	balle 		position: 100@100; 		vitesse: 0@0.	10 timesRepeat: [ balle unPasDeSimulation  ].	self assert: balle position equals: 100@66.25.	self assert: balle vitesse equals: 0@ -7.5! !!TestBalleRealiste methodsFor: 'tests' stamp: 'NouryBouraqadi 3/4/2015 18:17'!test1PasSimulationDepartX100Y100VitesseX0Y0	balle 		position: 100@100; 		vitesse: 0@0.	balle unPasDeSimulation.	self assert: balle position equals: 100@100.	self assert: balle vitesse equals: 0@ -0.75! !!TestBalleRealiste methodsFor: 'tests' stamp: 'NouryBouraqadi 3/4/2015 18:48'!testUnPasSimulationDepartX42Y10VitesseX8Ymoins9ArriveeX50Y1	self assertUnPasSimPointInitial: 42@10 vitesseInitiale: 8@ -9 pointFinal: 50@1 vitesseFinale: 7.75@ -9.75! !!TestBalleRealiste methodsFor: 'tests' stamp: 'NouryBouraqadi 3/4/2015 18:45'!testUnPasSimulationDepartX10Y10VitesseX3Y2ArriveeX13Y12	self assertUnPasSimPointInitial: 10@10 vitesseInitiale: 3@2 pointFinal: 13@12 vitesseFinale: 2.75@0.75 ! !Announcement subclass: #EvenementDeplacement	instanceVariableNames: 'anciennePosition nouvellePosition'	classVariableNames: ''	poolDictionaries: ''	category: 'SimulationBalle'!!EvenementDeplacement methodsFor: 'accessing' stamp: 'NouryBouraqadi 2/25/2014 11:56'!anciennePosition	^ anciennePosition! !!EvenementDeplacement methodsFor: 'accessing' stamp: 'NouryBouraqadi 2/25/2014 11:56'!anciennePosition: anObject	anciennePosition := anObject! !!EvenementDeplacement methodsFor: 'accessing' stamp: 'NouryBouraqadi 2/25/2014 11:56'!deltaPosition	^self nouvellePosition - self anciennePosition! !!EvenementDeplacement methodsFor: 'accessing' stamp: 'NouryBouraqadi 2/25/2014 11:56'!nouvellePosition: anObject	nouvellePosition := anObject! !!EvenementDeplacement methodsFor: 'accessing' stamp: 'NouryBouraqadi 2/25/2014 11:56'!nouvellePosition	^ nouvellePosition! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!EvenementDeplacement class	instanceVariableNames: ''!!EvenementDeplacement class methodsFor: 'instance creation' stamp: 'NouryBouraqadi 2/25/2014 12:05'!anciennePosition: anciennePosition nouvellePosition: nouvellePosition	^self new		anciennePosition: anciennePosition;		nouvellePosition: nouvellePosition;		yourself! !TestCase subclass: #TestBalleSimple	instanceVariableNames: 'balle'	classVariableNames: ''	poolDictionaries: ''	category: 'SimulationBalle'!!TestBalleSimple methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 16:36'!testPositionInitialeX0Y0	self assert: balle position equals: 0@0! !!TestBalleSimple methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 18:16'!testUnPasSimulationDepartX38Y0VitesseX2Y10ArriveeX40Y10	self assertUnPasSimPointInitial: 38@0 vitesseInitiale: 2@10 pointFinal: 40@10! !!TestBalleSimple methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 17:01'!testUnPasSimulationDepartX10Y10VitesseX3Y2ArriveeX13Y12	self assertUnPasSimPointInitial: 10@10 vitesseInitiale: 3@2 pointFinal: 13@12! !!TestBalleSimple methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 17:06'!assertUnPasSimPointInitial: pointDepart vitesseInitiale: vitesseInitiale pointFinal: pointArrivee vitesseFinale: vitesseArrivee	balle vitesse: vitesseInitiale.	balle position: pointDepart.	balle unPasDeSimulation.	self assert: balle position equals: pointArrivee.	self assert: balle vitesse equals: vitesseArrivee! !!TestBalleSimple methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 17:01'!testUnPasSimulationDepartX20Y20VitesseXmoins5Y6ArriveeX15Y26	self assertUnPasSimPointInitial: 20@20 vitesseInitiale: -5@6 pointFinal: 15@26! !!TestBalleSimple methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 17:14'!testUnPasSimulationDepartX100Y0VitesseX0Ymoins5ArriveeX100Y0	self assertUnPasSimPointInitial: 100@0 vitesseInitiale: 0@ -5 pointFinal: 100@0! !!TestBalleSimple methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 17:04'!assertUnPasSimPointInitial:  pointDepart vitesseInitiale:  vitesseInitiale pointFinal: pointArrivee	self 		assertUnPasSimPointInitial: pointDepart 		vitesseInitiale: vitesseInitiale 		pointFinal: pointArrivee 		vitesseFinale: vitesseInitiale! !!TestBalleSimple methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 16:34'!setUp 	super setUp.	balle := BalleSimple new! !!TestBalleSimple methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 17:09'!testUnPasSimulationDepartX34Y4VitesseX21Ymoins10ArriveeX55Y0	self assertUnPasSimPointInitial: 34@4 vitesseInitiale: 21@ -10 pointFinal: 55@0! !!TestBalleSimple methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 18:36'!testUnPasSimulationDepartX35Y0VitesseX10Ymoins7ArriveeX45Y0	self assertUnPasSimPointInitial: 35@0 vitesseInitiale: 10@ -7 pointFinal: 45@0! !!TestBalleSimple methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 16:40'!testChangemntPositionX86Y29VersX30Y40DonneX3Y40	balle position: 86@29.	balle position: 30@40.		self assert: balle position equals: 30@40! !!TestBalleSimple methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 17:00'!testUnPasSimulationDepartX23Y50VitesseXmoins3Y5ArriveeX20Y55	self assertUnPasSimPointInitial: 23@50 vitesseInitiale: -3@5 pointFinal: 20@55! !!TestBalleSimple methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 17:09'!testUnPasSimulationDepartX42Y10VitesseX8Ymoins9ArriveeX50Y1	self assertUnPasSimPointInitial: 42@10 vitesseInitiale: 8@ -9 pointFinal: 50@1! !!TestBalleSimple methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 16:40'!testVitesseInitialeX0Ymoins1	self assert: balle vitesse equals: 0@ -1! !!TestBalleSimple methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 16:39'!testChangemntPositionX73Y64VersX21Ymoins34DonneX21Y0	balle position: 73@64.	balle position: 21@ -34.		self assert: balle position equals: 21@0! !Simulation subclass: #SimulationBalleRebondissante	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'SimulationBalle'!!SimulationBalleRebondissante methodsFor: 'initialize - release' stamp: 'NouryBouraqadi 2/25/2014 18:52'!classeBalle	^BalleRebondissante ! !TestCase subclass: #TestMiseAJourAffichageBalle	instanceVariableNames: 'balle afficheur'	classVariableNames: ''	poolDictionaries: ''	category: 'SimulationBalle'!!TestMiseAJourAffichageBalle methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 18:47'!setUp	super setUp.	balle := BalleSimple new.	afficheur := AfficheurGraphiqueDeBalle new.	balle annonceur 		on: EvenementDeplacement send: #mettreAJourApresDeplacement: to: afficheur! !!TestMiseAJourAffichageBalle methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 18:51'!testPositionAfficheurMiseAJourAvecCelleDeLaBalle	(-100 to: 100 by: 25) do: [ :x|		(-100 to: 100 by: 25) do: [:y |		balle position: x@y.		self assert: afficheur position equals: balle position	]]! !!TestMiseAJourAffichageBalle methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 18:39'!tearDown	super tearDown.	afficheur arreterAffichage! !TestCase subclass: #TestBalleRebondissante	instanceVariableNames: 'balle'	classVariableNames: ''	poolDictionaries: ''	category: 'SimulationBalle'!!TestBalleRebondissante commentStamp: '<historical>' prior: 0!A TestBalleSimple is xxxxxxxxx.Instance Variables	balle:		<Object>balle	- xxxxx!!TestBalleRebondissante methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 18:08'!testPositionInitialeX0Y0	self assert: balle position equals: 0@0! !!TestBalleRebondissante methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 18:16'!testUnPasSimulationDepartX38Y0VitesseX2Y10ArriveeX40Y10	self assertUnPasSimPointInitial: 38@0 vitesseInitiale: 2@10 pointFinal: 40@10! !!TestBalleRebondissante methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 18:08'!testUnPasSimulationDepartX10Y10VitesseX3Y2ArriveeX13Y12	self assertUnPasSimPointInitial: 10@10 vitesseInitiale: 3@2 pointFinal: 13@12! !!TestBalleRebondissante methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 18:08'!assertUnPasSimPointInitial: pointDepart vitesseInitiale: vitesseInitiale pointFinal: pointArrivee vitesseFinale: vitesseArrivee	balle vitesse: vitesseInitiale.	balle position: pointDepart.	balle unPasDeSimulation.	self assert: balle position equals: pointArrivee.	self assert: balle vitesse equals: vitesseArrivee! !!TestBalleRebondissante methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 18:08'!testUnPasSimulationDepartX20Y20VitesseXmoins5Y6ArriveeX15Y26	self assertUnPasSimPointInitial: 20@20 vitesseInitiale: -5@6 pointFinal: 15@26! !!TestBalleRebondissante methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 18:23'!testUnPasSimulationDepartX100Y0VitesseX0Ymoins5ArriveeX100Y0	self assertUnPasSimPointInitial: 100@0 vitesseInitiale: 0@ -5 pointFinal: 100@0 vitesseFinale: 0@2! !!TestBalleRebondissante methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 18:08'!assertUnPasSimPointInitial:  pointDepart vitesseInitiale:  vitesseInitiale pointFinal: pointArrivee	self 		assertUnPasSimPointInitial: pointDepart 		vitesseInitiale: vitesseInitiale 		pointFinal: pointArrivee 		vitesseFinale: vitesseInitiale! !!TestBalleRebondissante methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 18:08'!setUp 	super setUp.	balle := BalleRebondissante new! !!TestBalleRebondissante methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 18:17'!testUnPasSimulationDepartX34Y4VitesseX21Ymoins10ArriveeX55Y0	self assertUnPasSimPointInitial: 34@4 vitesseInitiale: 21@ -10 pointFinal: 55@0 vitesseFinale: 21@5! !!TestBalleRebondissante methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 18:36'!testUnPasSimulationDepartX35Y0VitesseX10Ymoins7ArriveeX45Y0	self assertUnPasSimPointInitial: 35@0 vitesseInitiale: 10@ -7 pointFinal: 45@0 vitesseFinale: 10@3! !!TestBalleRebondissante methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 18:08'!testChangemntPositionX86Y29VersX30Y40DonneX3Y40	balle position: 86@29.	balle position: 30@40.		self assert: balle position equals: 30@40! !!TestBalleRebondissante methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 18:08'!testUnPasSimulationDepartX23Y50VitesseXmoins3Y5ArriveeX20Y55	self assertUnPasSimPointInitial: 23@50 vitesseInitiale: -3@5 pointFinal: 20@55! !!TestBalleRebondissante methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 18:08'!testUnPasSimulationDepartX42Y10VitesseX8Ymoins9ArriveeX50Y1	self assertUnPasSimPointInitial: 42@10 vitesseInitiale: 8@ -9 pointFinal: 50@1! !!TestBalleRebondissante methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 18:08'!testVitesseInitialeX0Ymoins1	self assert: balle vitesse equals: 0@ -1! !!TestBalleRebondissante methodsFor: 'tests' stamp: 'NouryBouraqadi 2/25/2014 18:08'!testChangemntPositionX73Y64VersX21Ymoins34DonneX21Y0	balle position: 73@64.	balle position: 21@ -34.		self assert: balle position equals: 21@0! !Simulation subclass: #SimulationBalleSimple	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'SimulationBalle'!!SimulationBalleSimple methodsFor: 'initailize-release' stamp: 'NouryBouraqadi 3/13/2014 10:12'!classeBalle	^BalleSimple! !Object subclass: #BalleSimple	instanceVariableNames: 'position annonceur vitesse'	classVariableNames: ''	poolDictionaries: ''	category: 'SimulationBalle'!!BalleSimple methodsFor: 'accessing' stamp: 'NouryBouraqadi 2/25/2014 12:20'!vitesse	^ vitesse! !!BalleSimple methodsFor: 'accessing' stamp: 'NouryBouraqadi 2/25/2014 12:20'!vitesse: anObject	vitesse := anObject! !!BalleSimple methodsFor: 'accessing' stamp: 'NouryBouraqadi 2/24/2014 18:10'!annonceur	^ annonceur! !!BalleSimple methodsFor: 'accessing' stamp: 'NouryBouraqadi 1/27/2011 16:16'!position	^position! !!BalleSimple methodsFor: 'accessing' stamp: 'NouryBouraqadi 2/24/2014 18:10'!annonceur: anObject	annonceur := anObject! !!BalleSimple methodsFor: 'accessing' stamp: 'NouryBouraqadi 2/25/2014 12:04'!position: nouvellePosition	| anciennePosition evenement |	nouvellePosition y < 0 ifTrue: [^self position: nouvellePosition x@0].	anciennePosition := self position.	position := nouvellePosition.	anciennePosition ifNil: [ ^self ].	evenement := EvenementDeplacement anciennePosition: anciennePosition nouvellePosition: nouvellePosition.	self annonceur announce: evenement! !!BalleSimple methodsFor: 'initialize-release' stamp: 'NouryBouraqadi 2/25/2014 12:21'!vitesseParDefaut	^0@ -1! !!BalleSimple methodsFor: 'initialize-release' stamp: 'NouryBouraqadi 2/25/2014 12:03'!positionParDefaut	^0@0! !!BalleSimple methodsFor: 'initialize-release' stamp: 'NouryBouraqadi 2/24/2014 18:10'!classeAnnonceur	^Announcer! !!BalleSimple methodsFor: 'initialize-release' stamp: 'NouryBouraqadi 2/25/2014 18:22'!initialize 	super initialize.	self vitesse: self vitesseParDefaut.	self position: self positionParDefaut.	self annonceur: self classeAnnonceur new! !!BalleSimple methodsFor: 'simulation' stamp: 'NouryBouraqadi 2/25/2014 17:17'!unPasDeSimulation 	self position: self position + self vitesse! !!BalleSimple methodsFor: 'observation' stamp: 'NouryBouraqadi 2/25/2014 17:39'!prendreEnCompteDeplacement: evenementDeplacement	self position: evenementDeplacement nouvellePosition! !BalleSimple subclass: #BalleRebondissante	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'SimulationBalle'!!BalleRebondissante methodsFor: 'accesing' stamp: 'NouryBouraqadi 2/25/2014 18:26'!vitesseDeRebond	| vitesseX vitesseY |	vitesseX := self vitesse x.	vitesseY := (self vitesse y negated // 2).	^vitesseX@vitesseY! !!BalleRebondissante methodsFor: 'accesing' stamp: 'NouryBouraqadi 2/25/2014 18:30'!unPasDeSimulation	super unPasDeSimulation.	self vaRebondir ifTrue: [ self vitesse: self vitesseDeRebond].! !!BalleRebondissante methodsFor: 'accesing' stamp: 'NouryBouraqadi 2/25/2014 18:28'!vaRebondir	self position ifNil: [ ^false ].	self vitesse ifNil: [ ^false ].	^self position y = 0 and: [ self vitesse y < 0]! !BalleRebondissante subclass: #BalleRealiste	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'SimulationBalle'!!BalleRealiste methodsFor: 'simulation' stamp: 'NouryBouraqadi 2/26/2014 23:21'!vitesseDeRebond	| vitesseRebondBrute vitesseXRebond |	vitesseRebondBrute := super vitesseDeRebond.	vitesseXRebond := (vitesseRebondBrute x abs - self frottement) * vitesseRebondBrute x sign.	vitesseRebondBrute y < (self frottement + self gravite) ifTrue: [ ^vitesseXRebond @ 0].	^vitesseXRebond @ vitesseRebondBrute y! !!BalleRealiste methodsFor: 'simulation' stamp: 'NouryBouraqadi 3/4/2015 18:21'!vitesseApresGravite	^self vitesse - (0@self gravite)! !!BalleRealiste methodsFor: 'simulation' stamp: 'NouryBouraqadi 3/13/2014 10:22'!frottement	^0.25! !!BalleRealiste methodsFor: 'simulation' stamp: 'NouryBouraqadi 3/13/2014 10:18'!gravite	^1! !!BalleRealiste methodsFor: 'simulation' stamp: 'NouryBouraqadi 3/4/2015 18:41'!unPasDeSimulation	|   vitesseInitiale rebondFait |	vitesseInitiale := self vitesse.	super unPasDeSimulation.	rebondFait := vitesseInitiale ~= self vitesse.	rebondFait ifTrue: [ ^self ].	self vitesse: self vitesseApresGravite . 	self vitesse: self vitesseApresFrottement. ! !!BalleRealiste methodsFor: 'simulation' stamp: 'NouryBouraqadi 3/4/2015 10:56'!vitesseApresFrottement	| deltaFrottement |	deltaFrottement := self vitesse sign  * self frottement.	^self vitesse - deltaFrottement! !(MaNaturalReferentialDrawingArea subclass: #Courbe	instanceVariableNames: 'epaisseurTrait couleurTrait'	classVariableNames: ''	poolDictionaries: ''	category: 'SimulationBalle')forward: {}!!Courbe methodsFor: 'observateur' stamp: 'NouryBouraqadi 2/23/2015 15:49'!tracerLignePourDeplacement: evenementDeplacement	| origineAlEchelle extremiteAlEchelle     |	origineAlEchelle := evenementDeplacement anciennePosition / self facteurEchelle.	extremiteAlEchelle := evenementDeplacement nouvellePosition / self facteurEchelle.	self tracerLigneDe: origineAlEchelle vers: extremiteAlEchelle! !!Courbe methodsFor: 'dessiner' stamp: 'NouryBouraqadi 2/23/2015 15:48'!effacer	self fillWith: self fillColor! !!Courbe methodsFor: 'dessiner' stamp: 'NouryBouraqadi 2/23/2015 15:51'!tracerLigneDe: origine vers: extremite	self drawLineFrom: origine to: extremite width: self epaisseurTrait color: self couleurTrait! !!Courbe methodsFor: 'accesseurs' stamp: 'NouryBouraqadi 2/25/2014 12:40'!couleurTrait	^ couleurTrait! !!Courbe methodsFor: 'accesseurs' stamp: 'NouryBouraqadi 2/25/2014 12:40'!couleurTrait: anObject	couleurTrait := anObject! !!Courbe methodsFor: 'accesseurs' stamp: 'NouryBouraqadi 2/25/2014 12:40'!epaisseurTrait: anObject	epaisseurTrait := anObject! !!Courbe methodsFor: 'accesseurs' stamp: 'NouryBouraqadi 2/25/2014 12:27'!name	^'Courbe'! !!Courbe methodsFor: 'accesseurs' stamp: 'NouryBouraqadi 2/25/2014 12:40'!epaisseurTrait	^ epaisseurTrait! !!Courbe methodsFor: 'accesseurs' stamp: 'NouryBouraqadi 2/23/2015 15:50'!facteurEchelle	^ DisplayScreen actualScreenSize / self extent ! !!Courbe methodsFor: 'initialisation' stamp: 'NouryBouraqadi 2/25/2014 12:46'!couleurTraitParDefaut	^Color red! !!Courbe methodsFor: 'initialisation' stamp: 'NouryBouraqadi 2/23/2015 16:17'!initialize	super initialize.	self epaisseurTrait: self epaisseurTraitParDefaut.	self couleurTrait: self couleurTraitParDefaut.	self extent: self dimensionsParDefaut.	self start! !!Courbe methodsFor: 'initialisation' stamp: 'NouryBouraqadi 2/25/2014 12:46'!dimensionsParDefaut	^640@480! !!Courbe methodsFor: 'initialisation' stamp: 'NouryBouraqadi 2/25/2014 12:46'!epaisseurTraitParDefaut	^2! !Object subclass: #AfficheurGraphiqueDeBalle	instanceVariableNames: 'disque estAffiche'	classVariableNames: ''	poolDictionaries: ''	category: 'SimulationBalle'!!AfficheurGraphiqueDeBalle commentStamp: '<historical>' prior: 0!Un AfficheurGraphiqueDeLampe gère un disque de couleur qui représente graphiquement la lampe.Instance Variables	disque:		<EllipseMorph>disque	- objet graphique qui représente la lampe!!AfficheurGraphiqueDeBalle methodsFor: 'accesseurs' stamp: 'Noury 1/18/2009 18:29'!disque	^disque! !!AfficheurGraphiqueDeBalle methodsFor: 'accesseurs' stamp: 'NouryBouraqadi 2/25/2014 17:30'!position	|nouvelY |	nouvelY := World extent y - disque center y.	^disque center x@ nouvelY! !!AfficheurGraphiqueDeBalle methodsFor: 'accesseurs' stamp: 'NouryBouraqadi 2/25/2014 18:41'!position: unPoint	| nouvelY anciennePosition  |	anciennePosition := self position.	anciennePosition = unPoint ifTrue: [ ^self ].	nouvelY := World extent y - unPoint y.	disque center: (unPoint x@ nouvelY).	estAffiche		ifTrue: [ self demarrerAffichage ].	"Permet de tout le temps voir l'afficheur au dessus des fenêtres"! !!AfficheurGraphiqueDeBalle methodsFor: 'initialization' stamp: 'NouryBouraqadi 2/25/2014 18:40'!initialize	disque := EllipseMorph new.	disque width: 70.	disque height: disque width.	estAffiche := false.	self demarrerAffichage! !!AfficheurGraphiqueDeBalle methodsFor: 'observation' stamp: 'NouryBouraqadi 2/25/2014 17:31'!mettreAJourApresDeplacement: evenementDeplacement	self position: evenementDeplacement nouvellePosition	! !!AfficheurGraphiqueDeBalle methodsFor: 'affichage' stamp: 'NouryBouraqadi 2/25/2014 17:21'!arreterAffichage	estAffiche := false.	disque delete! !!AfficheurGraphiqueDeBalle methodsFor: 'affichage' stamp: 'NouryBouraqadi 2/25/2014 17:22'!demarrerAffichage	estAffiche := true.	disque openInWorld! !