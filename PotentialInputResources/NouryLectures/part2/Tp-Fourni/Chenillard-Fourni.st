Object subclass: #Lampe	instanceVariableNames: 'estAllumee couleur afficheur'	classVariableNames: ''	poolDictionaries: ''	category: 'Chenillard'!!Lampe commentStamp: '<historical>' prior: 0!Une lampe  dispose d'une couleur et sait si elle est allumée ou non à un instant donnée. Elle connait un afficheur auquel elle notifie ses changements d'état. !!Lampe methodsFor: 'accessing' stamp: 'NouryBouraqadi 1/30/2014 09:45'!afficheur	^ afficheur! !!Lampe methodsFor: 'accessing' stamp: 'NouryBouraqadi 1/30/2014 09:48'!afficheur: anObject	afficheur := anObject.	self mettreAJourAfficheur! !!Lampe methodsFor: 'apparence' stamp: 'NouryBouraqadi 2/5/2014 11:08'!couleurLampeEteinte	^Color black! !!Lampe methodsFor: 'apparence' stamp: 'NouryBouraqadi 1/30/2014 09:52'!couleur: uneCouleur	couleur := uneCouleur.	self mettreAJourAfficheur! !!Lampe methodsFor: 'apparence' stamp: 'NouryBouraqadi 1/30/2014 15:29'!mettreAJourAfficheur	self afficheur ifNil: [ ^self ].	self afficheur miseAJourAvec: self! !!Lampe methodsFor: 'apparence' stamp: 'NouryBouraqadi 1/30/2014 09:50'!couleur	self estAllumee ifFalse: [ ^self couleurLampeEteinte ].	^ couleur! !!Lampe methodsFor: 'affichage' stamp: 'NouryBouraqadi 1/30/2014 15:50'!demarrerAffichage	self afficheur ifNil: [^self].	self afficheur demarrerAffichage! !!Lampe methodsFor: 'affichage' stamp: 'NouryBouraqadi 1/30/2014 15:51'!arreterAffichage	self afficheur ifNil: [ ^self ].	self afficheur arreterAffichage! !!Lampe methodsFor: 'etat' stamp: 'NouryBouraqadi 1/30/2014 09:44'!estAllumee	^ estAllumee! !!Lampe methodsFor: 'etat' stamp: 'NouryBouraqadi 1/30/2014 15:34'!estAllumee: unBooleen	estAllumee := unBooleen.	self mettreAJourAfficheur ! !!Lampe methodsFor: 'etat' stamp: 'NouryBouraqadi 1/30/2014 09:44'!eteindre	self estAllumee: false! !!Lampe methodsFor: 'etat' stamp: 'NouryBouraqadi 1/30/2014 09:44'!allumer	self estAllumee: true! !!Lampe methodsFor: 'initialisation' stamp: 'NouryBouraqadi 1/30/2014 09:44'!couleurParDefaut	^Color yellow! !!Lampe methodsFor: 'initialisation' stamp: 'NouryBouraqadi 1/30/2014 09:44'!estAllumeeParDefaut	^false! !!Lampe methodsFor: 'initialisation' stamp: 'NouryBouraqadi 1/30/2014 09:44'!initialize	super initialize.	self estAllumee: self estAllumeeParDefaut.	self couleur: self couleurParDefaut ! !!Lampe methodsFor: 'accessing' stamp: 'NouryBouraqadi 1/30/2014 09:45'!afficheur	^ afficheur! !!Lampe methodsFor: 'accessing' stamp: 'NouryBouraqadi 1/30/2014 09:48'!afficheur: anObject	afficheur := anObject.	self mettreAJourAfficheur! !!Lampe methodsFor: 'apparence' stamp: 'NouryBouraqadi 2/5/2014 11:08'!couleurLampeEteinte	^Color black! !!Lampe methodsFor: 'apparence' stamp: 'NouryBouraqadi 1/30/2014 09:52'!couleur: uneCouleur	couleur := uneCouleur.	self mettreAJourAfficheur! !!Lampe methodsFor: 'apparence' stamp: 'NouryBouraqadi 1/30/2014 15:29'!mettreAJourAfficheur	self afficheur ifNil: [ ^self ].	self afficheur miseAJourAvec: self! !!Lampe methodsFor: 'apparence' stamp: 'NouryBouraqadi 1/30/2014 09:50'!couleur	self estAllumee ifFalse: [ ^self couleurLampeEteinte ].	^ couleur! !!Lampe methodsFor: 'affichage' stamp: 'NouryBouraqadi 1/30/2014 15:50'!demarrerAffichage	self afficheur ifNil: [^self].	self afficheur demarrerAffichage! !!Lampe methodsFor: 'affichage' stamp: 'NouryBouraqadi 1/30/2014 15:51'!arreterAffichage	self afficheur ifNil: [ ^self ].	self afficheur arreterAffichage! !!Lampe methodsFor: 'etat' stamp: 'NouryBouraqadi 1/30/2014 09:44'!estAllumee	^ estAllumee! !!Lampe methodsFor: 'etat' stamp: 'NouryBouraqadi 1/30/2014 15:34'!estAllumee: unBooleen	estAllumee := unBooleen.	self mettreAJourAfficheur ! !!Lampe methodsFor: 'etat' stamp: 'NouryBouraqadi 1/30/2014 09:44'!eteindre	self estAllumee: false! !!Lampe methodsFor: 'etat' stamp: 'NouryBouraqadi 1/30/2014 09:44'!allumer	self estAllumee: true! !!Lampe methodsFor: 'initialisation' stamp: 'NouryBouraqadi 1/30/2014 09:44'!couleurParDefaut	^Color yellow! !!Lampe methodsFor: 'initialisation' stamp: 'NouryBouraqadi 1/30/2014 09:44'!estAllumeeParDefaut	^false! !!Lampe methodsFor: 'initialisation' stamp: 'NouryBouraqadi 1/30/2014 09:44'!initialize	super initialize.	self estAllumee: self estAllumeeParDefaut.	self couleur: self couleurParDefaut ! !Object subclass: #Guirlande	instanceVariableNames: 'lampes'	classVariableNames: ''	poolDictionaries: ''	category: 'Chenillard'!!Guirlande commentStamp: '<historical>' prior: 0!!!Guirlande methodsFor: 'animation' stamp: 'NouryBouraqadi 2/5/2014 12:06'!executer: unBlock repetition: nombreDefois	| dureeAttenteAvantAllumageLampeSuivante |	dureeAttenteAvantAllumageLampeSuivante := Delay forMilliseconds: 100.	[ 	nombreDefois		timesRepeat: [ 			dureeAttenteAvantAllumageLampeSuivante wait.			unBlock value ] 	] forkAt: Processor userBackgroundPriority		"forkAt:  permet d'exécuter le bloc dans un processus dédié.	L'argument correspond à la priorité du nouveau processus."! !Object subclass: #AfficheurGraphiqueDeLampe	instanceVariableNames: 'morph'	classVariableNames: ''	poolDictionaries: ''	category: 'Chenillard'!!AfficheurGraphiqueDeLampe commentStamp: '<historical>' prior: 0!Un AfficheurGraphiqueDeLampe gère un disque de couleur qui représente graphiquement la lampe.Instance Variables	disque:		<Morph>disque	- objet graphique qui représente la lampe!!AfficheurGraphiqueDeLampe methodsFor: 'affichage' stamp: 'NouryBouraqadi 2/4/2014 09:54'!largeur: largeur	self morph width: largeur! !!AfficheurGraphiqueDeLampe methodsFor: 'affichage' stamp: 'NouryBouraqadi 2/4/2014 09:56'!largeur	^self morph width! !!AfficheurGraphiqueDeLampe methodsFor: 'affichage' stamp: 'NouryBouraqadi 2/4/2014 09:33'!arreterAffichage	self morph delete! !!AfficheurGraphiqueDeLampe methodsFor: 'affichage' stamp: 'NouryBouraqadi 2/4/2014 09:33'!demarrerAffichage	self morph openInWorld! !!AfficheurGraphiqueDeLampe methodsFor: 'affichage' stamp: 'NouryBouraqadi 2/4/2014 09:33'!miseAJourAvec: uneLampe	self morph color: uneLampe couleur! !!AfficheurGraphiqueDeLampe methodsFor: 'affichage' stamp: 'NouryBouraqadi 2/4/2014 09:54'!hauteur	^self morph height! !!AfficheurGraphiqueDeLampe methodsFor: 'affichage' stamp: 'NouryBouraqadi 2/4/2014 09:54'!hauteur: hauteur	self morph height: hauteur! !!AfficheurGraphiqueDeLampe methodsFor: 'initialization' stamp: 'NouryBouraqadi 2/4/2014 09:49'!afficherEnDisqueDeDiametre: diametre	self initMorphInstanceDe: self classeMorphEllipse largeur: diametre hauteur: diametre! !!AfficheurGraphiqueDeLampe methodsFor: 'initialization' stamp: 'NouryBouraqadi 2/4/2014 09:46'!initialize	super initialize.	self afficherEnDisqueDeDiametre: self largeurMorphParDefaut! !!AfficheurGraphiqueDeLampe methodsFor: 'initialization' stamp: 'NouryBouraqadi 2/4/2014 09:49'!afficherEnCarreDeCote: longueur	self initMorphInstanceDe: self classeMorphRectangle  largeur: longueur hauteur: longueur! !!AfficheurGraphiqueDeLampe methodsFor: 'initialization' stamp: 'NouryBouraqadi 2/4/2014 09:52'!classeMorphEllipse	^EllipseMorph ! !!AfficheurGraphiqueDeLampe methodsFor: 'initialization' stamp: 'NouryBouraqadi 2/4/2014 09:52'!classeMorphRectangle	^BorderedMorph ! !!AfficheurGraphiqueDeLampe methodsFor: 'initialization' stamp: 'NouryBouraqadi 2/4/2014 09:48'!largeurMorphParDefaut	^70! !!AfficheurGraphiqueDeLampe methodsFor: 'initialization' stamp: 'NouryBouraqadi 2/4/2014 09:54'!initMorphInstanceDe: classeMorph largeur: largeur hauteur: hauteur	self morph:  classeMorph new.	self largeur: largeur.	self hauteur: hauteur.! !!AfficheurGraphiqueDeLampe methodsFor: 'accesseurs' stamp: 'NouryBouraqadi 2/4/2014 09:33'!morph	^ morph! !!AfficheurGraphiqueDeLampe methodsFor: 'accesseurs' stamp: 'NouryBouraqadi 2/4/2014 09:51'!morph: unMorph	morph ifNotNil: [ self arreterAffichage ].	morph := unMorph! !!AfficheurGraphiqueDeLampe methodsFor: 'accesseurs' stamp: 'NouryBouraqadi 2/4/2014 09:33'!position: unPoint	self morph position: unPoint! !!AfficheurGraphiqueDeLampe methodsFor: 'affichage' stamp: 'NouryBouraqadi 2/4/2014 09:54'!largeur: largeur	self morph width: largeur! !!AfficheurGraphiqueDeLampe methodsFor: 'affichage' stamp: 'NouryBouraqadi 2/4/2014 09:56'!largeur	^self morph width! !!AfficheurGraphiqueDeLampe methodsFor: 'affichage' stamp: 'NouryBouraqadi 2/4/2014 09:33'!arreterAffichage	self morph delete! !!AfficheurGraphiqueDeLampe methodsFor: 'affichage' stamp: 'NouryBouraqadi 2/4/2014 09:33'!demarrerAffichage	self morph openInWorld! !!AfficheurGraphiqueDeLampe methodsFor: 'affichage' stamp: 'NouryBouraqadi 2/4/2014 09:33'!miseAJourAvec: uneLampe	self morph color: uneLampe couleur! !!AfficheurGraphiqueDeLampe methodsFor: 'affichage' stamp: 'NouryBouraqadi 2/4/2014 09:54'!hauteur	^self morph height! !!AfficheurGraphiqueDeLampe methodsFor: 'affichage' stamp: 'NouryBouraqadi 2/4/2014 09:54'!hauteur: hauteur	self morph height: hauteur! !!AfficheurGraphiqueDeLampe methodsFor: 'initialization' stamp: 'NouryBouraqadi 2/4/2014 09:49'!afficherEnDisqueDeDiametre: diametre	self initMorphInstanceDe: self classeMorphEllipse largeur: diametre hauteur: diametre! !!AfficheurGraphiqueDeLampe methodsFor: 'initialization' stamp: 'NouryBouraqadi 2/4/2014 09:46'!initialize	super initialize.	self afficherEnDisqueDeDiametre: self largeurMorphParDefaut! !!AfficheurGraphiqueDeLampe methodsFor: 'initialization' stamp: 'NouryBouraqadi 2/4/2014 09:49'!afficherEnCarreDeCote: longueur	self initMorphInstanceDe: self classeMorphRectangle  largeur: longueur hauteur: longueur! !!AfficheurGraphiqueDeLampe methodsFor: 'initialization' stamp: 'NouryBouraqadi 2/4/2014 09:52'!classeMorphEllipse	^EllipseMorph ! !!AfficheurGraphiqueDeLampe methodsFor: 'initialization' stamp: 'NouryBouraqadi 2/4/2014 09:52'!classeMorphRectangle	^BorderedMorph ! !!AfficheurGraphiqueDeLampe methodsFor: 'initialization' stamp: 'NouryBouraqadi 2/4/2014 09:48'!largeurMorphParDefaut	^70! !!AfficheurGraphiqueDeLampe methodsFor: 'initialization' stamp: 'NouryBouraqadi 2/4/2014 09:54'!initMorphInstanceDe: classeMorph largeur: largeur hauteur: hauteur	self morph:  classeMorph new.	self largeur: largeur.	self hauteur: hauteur.! !!AfficheurGraphiqueDeLampe methodsFor: 'accesseurs' stamp: 'NouryBouraqadi 2/4/2014 09:33'!morph	^ morph! !!AfficheurGraphiqueDeLampe methodsFor: 'accesseurs' stamp: 'NouryBouraqadi 2/4/2014 09:51'!morph: unMorph	morph ifNotNil: [ self arreterAffichage ].	morph := unMorph! !!AfficheurGraphiqueDeLampe methodsFor: 'accesseurs' stamp: 'NouryBouraqadi 2/4/2014 09:33'!position: unPoint	self morph position: unPoint! !